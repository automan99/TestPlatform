import{a7 as Ne,r as c,a as Q,a8 as Oe,B as je,c as oe,o as q,b as e,w as l,E as Me,a9 as Re,C as Fe,G as Pe,h as qe,q as O,aa as Je,ab as Ge,l as y,p as He,ac as Ke,t as d,a1 as Qe,d as ce,e as W,ad as We,ae as Xe,j as Ye,k as n,a4 as Ze,a5 as et,$ as tt,af as lt,ag as ne,f as at,g as ot,a2 as nt,a3 as st,ah as ut,ai as it,aj as dt,ak as pt,al as rt,am as ct,an as ft,ao as mt,ap as X,y as D}from"./index-vTAAATWV.js";/* empty css                 *//* empty css                        *//* empty css                       *//* empty css                   *//* empty css                             *//* empty css                  *//* empty css                     *//* empty css               *//* empty css                   *//* empty css               *//* empty css                        *//* empty css                *//* empty css                *//* empty css                      */import"./index-BRBj6Fej.js";import{t as Y,a as j}from"./test-case-CNa3Bo-F.js";import{_ as _t}from"./_plugin-vue_export-helper-DlAUqK2U.js";const vt=Ne("testCase",()=>{const Z=c([]),b=c([]),M=c(null),R=c(null),k=c([]),h=c(!1);async function J(u){h.value=!0;try{const _=await Y.getTree(u);return Z.value=_.data||[],_}finally{h.value=!1}}async function E(u){var _;h.value=!0;try{const G=await j.getList(u);return b.value=((_=G.data)==null?void 0:_.items)||[],G}finally{h.value=!1}}async function L(u){return await Y.create(u)}async function F(u,_){return await Y.update(u,_)}async function T(u){return await Y.delete(u)}async function I(u){return await j.create(u)}async function f(u,_){return await j.update(u,_)}async function z(u){return await j.delete(u)}async function V(u){return await j.batchDelete({case_ids:u})}async function P(u,_){return await j.batchMove({case_ids:u,target_suite_id:_})}function g(u){M.value=u}function U(u){R.value=u}function x(u){const _=k.value.indexOf(u);_>-1?k.value.splice(_,1):k.value.push(u)}function s(){k.value=[]}return{suites:Z,cases:b,currentSuite:M,currentCase:R,selectedCases:k,loading:h,fetchSuites:J,fetchCases:E,createSuite:L,updateSuite:F,deleteSuite:T,createCase:I,updateCase:f,deleteCase:z,batchDeleteCases:V,batchMoveCases:P,setCurrentSuite:g,setCurrentCase:U,toggleCaseSelection:x,clearSelection:s}}),yt={class:"test-case-page"},bt={class:"page-header"},gt={class:"header-actions"},Vt={class:"tree-node"},Ct={class:"node-count"},xt={class:"toolbar"},wt={class:"steps-table-wrapper"},St={key:0,class:"case-detail"},kt={class:"detail-content"},ht={class:"detail-content"},Et={class:"detail-content"},Ut={key:0,class:"case-execute"},Bt={class:"detail-content"},Lt={__name:"Index",setup(Z){const b=vt(),M=c(),R=c(),k=c(""),h=c([]),J=c([]),E=c([]),L=c(!1),F=c(""),T=c(!1),I=c(!1),f=c(null),z=c(!1),V=c(null),P=c(!1),g=Q({status:"passed",actual_result:"",notes:"",duration:0,defect_ids:[]}),U=Q({keyword:"",priority:"",status:""}),x=Q({page:1,pageSize:20,total:0}),s=Q({id:null,name:"",case_no:"",suite_id:null,preconditions:"",postconditions:"",stepList:[{step:"",expected:""}],steps:"",expected_result:"",description:"",priority:"medium",case_type:"functional",automation_status:"manual",status:"draft"}),u={name:[{required:!0,message:"请输入用例名称",trigger:"blur"}]},_=c([]);Oe(k,o=>{var t;(t=M.value)==null||t.filter(o)});function G(o,t){return o?t.name.includes(o):!0}function ee(o){return{critical:"danger",high:"warning",medium:"primary",low:"info"}[o]||"info"}function se(o){return{draft:"info",active:"success",archived:"warning"}[o]||"info"}async function te(){const o=await b.fetchSuites();h.value=o.data||[],_.value=ue(h.value)}function ue(o){var i;const t=[];for(const p of o)t.push({id:p.id,name:p.name,children:(i=p.children)!=null&&i.length?ue(p.children):void 0});return t}function fe(o){b.setCurrentSuite(o),C()}async function C(){var t,i,p;const o=await b.fetchCases({page:x.page,per_page:x.pageSize,suite_id:(t=b.currentSuite)==null?void 0:t.id,...U});J.value=((i=o.data)==null?void 0:i.items)||[],x.total=((p=o.data)==null?void 0:p.total)||0}function me(o){E.value=o.map(t=>t.id)}function _e(){X.prompt("请输入文件夹名称","新建文件夹",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:o})=>{var t;b.createSuite({name:o,parent_id:(t=b.currentSuite)==null?void 0:t.id}).then(()=>{D.success("创建成功"),te()})})}function ve(){var o;T.value=!1,F.value="新建测试用例",Object.assign(s,{id:null,name:"",case_no:"",suite_id:(o=b.currentSuite)==null?void 0:o.id,preconditions:"",postconditions:"",stepList:[{step:"",expected:""}],steps:"",expected_result:"",description:"",priority:"medium",case_type:"functional",automation_status:"manual",status:"draft"}),L.value=!0}function ye(o){T.value=!0,F.value="编辑测试用例";let t=[{step:"",expected:""}];if(o.steps)try{const i=JSON.parse(o.steps);Array.isArray(i)&&(t=i.map(p=>({step:p.step||"",expected:p.expected||""})))}catch{t=[{step:o.steps||"",expected:o.expected_result||""}]}Object.assign(s,{id:o.id,name:o.name,case_no:o.case_no,suite_id:o.suite_id,preconditions:o.preconditions||"",postconditions:o.postconditions||"",stepList:t,steps:o.steps,expected_result:o.expected_result||"",description:o.description||"",priority:o.priority,case_type:o.case_type,automation_status:o.automation_status,status:o.status}),L.value=!0}function be(o){X.confirm("确定要删除这条用例吗？","提示",{type:"warning"}).then(()=>{b.deleteCase(o.id).then(()=>{D.success("删除成功"),C()})})}function ge(){X.confirm(`确定要删除选中的 ${E.value.length} 条用例吗？`,"提示",{type:"warning"}).then(()=>{b.batchDeleteCases(E.value).then(()=>{D.success("删除成功"),C()})})}function Ve(){X.prompt("请输入目标文件夹ID","批量移动",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:o})=>{b.batchMoveCases(E.value,parseInt(o)).then(()=>{D.success("移动成功"),C()})})}function Ce(){s.stepList.push({step:"",expected:""})}function xe(o){s.stepList.length>1&&s.stepList.splice(o,1)}function le(){const o=s.stepList.filter(t=>t.step||t.expected);s.steps=JSON.stringify(o),s.expected_result=o.map(t=>t.expected).filter(Boolean).join(`
`)}function we(){R.value.validate(o=>{if(o){le();const t={...s};delete t.stepList;const i=T.value?b.updateCase:b.createCase,p=T.value?s.id:t;i(p,T.value?t:null).then(()=>{D.success(T.value?"更新成功":"创建成功"),L.value=!1,C(),te()})}})}function ie(o){if(!o)return[{step:"无",expected:"无"}];try{const t=JSON.parse(o);if(Array.isArray(t))return t.length>0?t:[{step:"无",expected:"无"}]}catch{}return[{step:o||"无",expected:"无"}]}function Se(o){f.value=o,I.value=!0}function ke(o){V.value=o,Object.assign(g,{status:"passed",actual_result:"",notes:"",duration:0,defect_ids:[]}),z.value=!0}async function he(){if(!g.status){D.warning("请选择执行状态");return}P.value=!0;try{D.success("执行结果提交成功"),z.value=!1}catch{D.error("提交失败")}finally{P.value=!1}}return je(()=>{te(),C()}),(o,t)=>{const i=Ye,p=qe,Ee=He,Ue=Ge,Be=Pe,r=Xe,$=We,m=et,B=tt,H=Ze,Le=lt,Te=Qe,De=Fe,ze=Me,v=ot,N=st,$e=ut,de=nt,pe=at,ae=Re,w=pt,re=dt,A=rt,K=ft,Ae=ct,Ie=mt;return q(),oe("div",yt,[e(ze,null,{header:l(()=>[y("div",bt,[t[29]||(t[29]=y("span",null,"测试用例管理",-1)),y("div",gt,[e(i,{type:"primary",icon:O(ne),onClick:_e},{default:l(()=>[...t[27]||(t[27]=[n("新建文件夹",-1)])]),_:1},8,["icon"]),e(i,{type:"primary",icon:O(ne),onClick:ve},{default:l(()=>[...t[28]||(t[28]=[n("新建用例",-1)])]),_:1},8,["icon"])])])]),default:l(()=>[e(De,null,{default:l(()=>[e(Be,{width:"250px",class:"suite-tree"},{default:l(()=>[e(p,{modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=a=>k.value=a),placeholder:"搜索文件夹","prefix-icon":O(Je),clearable:"",style:{"margin-bottom":"12px"}},null,8,["modelValue","prefix-icon"]),e(Ue,{ref_key:"treeRef",ref:M,data:h.value,props:{children:"children",label:"name"},"filter-node-method":G,"node-key":"id","highlight-current":"",onNodeClick:fe},{default:l(({node:a,data:S})=>[y("span",Vt,[e(Ee,null,{default:l(()=>[e(O(Ke))]),_:1}),y("span",null,d(a.label),1),y("span",Ct,"("+d(S.case_count||0)+")",1)])]),_:1},8,["data"])]),_:1}),e(Te,{class:"case-list"},{default:l(()=>[y("div",xt,[e(p,{modelValue:U.keyword,"onUpdate:modelValue":t[1]||(t[1]=a=>U.keyword=a),placeholder:"搜索用例",clearable:"",style:{width:"200px"},onChange:C},null,8,["modelValue"]),e($,{modelValue:U.priority,"onUpdate:modelValue":t[2]||(t[2]=a=>U.priority=a),placeholder:"优先级",clearable:"",onChange:C},{default:l(()=>[e(r,{label:"高",value:"high"}),e(r,{label:"中",value:"medium"}),e(r,{label:"低",value:"low"})]),_:1},8,["modelValue"]),e($,{modelValue:U.status,"onUpdate:modelValue":t[3]||(t[3]=a=>U.status=a),placeholder:"状态",clearable:"",onChange:C},{default:l(()=>[e(r,{label:"草稿",value:"draft"}),e(r,{label:"激活",value:"active"}),e(r,{label:"归档",value:"archived"})]),_:1},8,["modelValue"]),t[31]||(t[31]=y("div",{style:{flex:"1"}},null,-1)),E.value.length>0?(q(),ce(i,{key:0,type:"danger",onClick:ge},{default:l(()=>[n(" 批量删除 ("+d(E.value.length)+") ",1)]),_:1})):W("",!0),E.value.length>0?(q(),ce(i,{key:1,onClick:Ve},{default:l(()=>[...t[30]||(t[30]=[n(" 批量移动 ",-1)])]),_:1})):W("",!0)]),e(H,{data:J.value,onSelectionChange:me,style:{width:"100%"}},{default:l(()=>[e(m,{type:"selection",width:"55"}),e(m,{label:"编号",width:"120"},{default:l(({row:a})=>[n(d(a.case_no||`CASE-${a.id}`),1)]),_:1}),e(m,{prop:"name",label:"用例名称","show-overflow-tooltip":""}),e(m,{prop:"priority",label:"优先级",width:"100"},{default:l(({row:a})=>[e(B,{type:ee(a.priority)},{default:l(()=>[n(d(a.priority),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"case_type",label:"类型",width:"100"},{default:l(({row:a})=>[e(B,{type:"info"},{default:l(()=>[n(d(a.case_type),1)]),_:2},1024)]),_:1}),e(m,{prop:"automation_status",label:"自动化",width:"100"},{default:l(({row:a})=>[e(B,{type:a.automation_status==="automated"?"success":"info"},{default:l(()=>[n(d(a.automation_status),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"status",label:"状态",width:"100"},{default:l(({row:a})=>[e(B,{type:se(a.status)},{default:l(()=>[n(d(a.status),1)]),_:2},1032,["type"])]),_:1}),e(m,{label:"操作",width:"280",fixed:"right"},{default:l(({row:a})=>[e(i,{type:"info",link:"",size:"small",onClick:S=>Se(a)},{default:l(()=>[...t[32]||(t[32]=[n("查看",-1)])]),_:1},8,["onClick"]),e(i,{type:"success",link:"",size:"small",onClick:S=>ke(a)},{default:l(()=>[...t[33]||(t[33]=[n("执行",-1)])]),_:1},8,["onClick"]),e(i,{type:"primary",link:"",size:"small",onClick:S=>ye(a)},{default:l(()=>[...t[34]||(t[34]=[n("编辑",-1)])]),_:1},8,["onClick"]),e(i,{type:"danger",link:"",size:"small",onClick:S=>be(a)},{default:l(()=>[...t[35]||(t[35]=[n("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),e(Le,{"current-page":x.page,"onUpdate:currentPage":t[4]||(t[4]=a=>x.page=a),"page-size":x.pageSize,"onUpdate:pageSize":t[5]||(t[5]=a=>x.pageSize=a),total:x.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:C,onSizeChange:C,style:{"margin-top":"20px","justify-content":"flex-end"}},null,8,["current-page","page-size","total"])]),_:1})]),_:1})]),_:1}),e(ae,{modelValue:L.value,"onUpdate:modelValue":t[17]||(t[17]=a=>L.value=a),title:F.value,width:"900px","destroy-on-close":""},{footer:l(()=>[e(i,{onClick:t[16]||(t[16]=a=>L.value=!1)},{default:l(()=>[...t[38]||(t[38]=[n("取消",-1)])]),_:1}),e(i,{type:"primary",onClick:we},{default:l(()=>[...t[39]||(t[39]=[n("确定",-1)])]),_:1})]),default:l(()=>[e(pe,{model:s,rules:u,ref_key:"formRef",ref:R,"label-width":"100px"},{default:l(()=>[e(v,{label:"用例名称",prop:"name"},{default:l(()=>[e(p,{modelValue:s.name,"onUpdate:modelValue":t[6]||(t[6]=a=>s.name=a),placeholder:"请输入用例名称"},null,8,["modelValue"])]),_:1}),e(de,{gutter:20},{default:l(()=>[e(N,{span:8},{default:l(()=>[e(v,{label:"用例编号",prop:"case_no"},{default:l(()=>[e(p,{modelValue:s.case_no,"onUpdate:modelValue":t[7]||(t[7]=a=>s.case_no=a),placeholder:"自动生成"},null,8,["modelValue"])]),_:1})]),_:1}),e(N,{span:8},{default:l(()=>[e(v,{label:"所属文件夹",prop:"suite_id"},{default:l(()=>[e($e,{modelValue:s.suite_id,"onUpdate:modelValue":t[8]||(t[8]=a=>s.suite_id=a),options:_.value,props:{value:"id",label:"name",checkStrictly:!0},clearable:"",style:{width:"100%"}},null,8,["modelValue","options"])]),_:1})]),_:1}),e(N,{span:8},{default:l(()=>[e(v,{label:"优先级",prop:"priority"},{default:l(()=>[e($,{modelValue:s.priority,"onUpdate:modelValue":t[9]||(t[9]=a=>s.priority=a),style:{width:"100%"}},{default:l(()=>[e(r,{label:"紧急",value:"critical"}),e(r,{label:"高",value:"high"}),e(r,{label:"中",value:"medium"}),e(r,{label:"低",value:"low"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(de,{gutter:20},{default:l(()=>[e(N,{span:8},{default:l(()=>[e(v,{label:"用例类型",prop:"case_type"},{default:l(()=>[e($,{modelValue:s.case_type,"onUpdate:modelValue":t[10]||(t[10]=a=>s.case_type=a),style:{width:"100%"}},{default:l(()=>[e(r,{label:"功能测试",value:"functional"}),e(r,{label:"性能测试",value:"performance"}),e(r,{label:"安全测试",value:"security"}),e(r,{label:"UI测试",value:"ui"}),e(r,{label:"API测试",value:"api"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(N,{span:8},{default:l(()=>[e(v,{label:"自动化状态",prop:"automation_status"},{default:l(()=>[e($,{modelValue:s.automation_status,"onUpdate:modelValue":t[11]||(t[11]=a=>s.automation_status=a),style:{width:"100%"}},{default:l(()=>[e(r,{label:"手工",value:"manual"}),e(r,{label:"自动化",value:"automated"}),e(r,{label:"半自动化",value:"semi-automated"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(N,{span:8},{default:l(()=>[e(v,{label:"状态",prop:"status"},{default:l(()=>[e($,{modelValue:s.status,"onUpdate:modelValue":t[12]||(t[12]=a=>s.status=a),style:{width:"100%"}},{default:l(()=>[e(r,{label:"草稿",value:"draft"}),e(r,{label:"激活",value:"active"}),e(r,{label:"归档",value:"archived"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{label:"前置条件",prop:"preconditions"},{default:l(()=>[e(p,{modelValue:s.preconditions,"onUpdate:modelValue":t[13]||(t[13]=a=>s.preconditions=a),type:"textarea",rows:2,placeholder:"测试执行前需要满足的条件..."},null,8,["modelValue"])]),_:1}),e(v,{label:"测试步骤",prop:"stepList"},{default:l(()=>[y("div",wt,[e(H,{data:s.stepList,border:"",style:{width:"100%"}},{default:l(()=>[e(m,{label:"序号",width:"60",align:"center"},{default:l(({$index:a})=>[y("span",null,d(a+1),1)]),_:1}),e(m,{label:"步骤描述","min-width":"200"},{default:l(({row:a})=>[e(p,{modelValue:a.step,"onUpdate:modelValue":S=>a.step=S,type:"textarea",rows:2,placeholder:"请输入步骤描述",onBlur:le},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"期望结果","min-width":"200"},{default:l(({row:a})=>[e(p,{modelValue:a.expected,"onUpdate:modelValue":S=>a.expected=S,type:"textarea",rows:2,placeholder:"请输入期望结果",onBlur:le},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"操作",width:"80",align:"center"},{default:l(({$index:a})=>[e(i,{type:"danger",link:"",icon:O(it),onClick:S=>xe(a),disabled:s.stepList.length<=1},{default:l(()=>[...t[36]||(t[36]=[n(" 删除 ",-1)])]),_:1},8,["icon","onClick","disabled"])]),_:1})]),_:1},8,["data"]),e(i,{type:"primary",icon:O(ne),onClick:Ce,style:{"margin-top":"10px"}},{default:l(()=>[...t[37]||(t[37]=[n(" 添加步骤 ",-1)])]),_:1},8,["icon"])])]),_:1}),e(v,{label:"后置条件",prop:"postconditions"},{default:l(()=>[e(p,{modelValue:s.postconditions,"onUpdate:modelValue":t[14]||(t[14]=a=>s.postconditions=a),type:"textarea",rows:2,placeholder:"测试执行后的清理或恢复操作..."},null,8,["modelValue"])]),_:1}),e(v,{label:"备注",prop:"description"},{default:l(()=>[e(p,{modelValue:s.description,"onUpdate:modelValue":t[15]||(t[15]=a=>s.description=a),type:"textarea",rows:3,placeholder:"其他说明..."},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(ae,{modelValue:I.value,"onUpdate:modelValue":t[19]||(t[19]=a=>I.value=a),title:"查看用例",width:"900px","destroy-on-close":""},{footer:l(()=>[e(i,{type:"primary",onClick:t[18]||(t[18]=a=>I.value=!1)},{default:l(()=>[...t[44]||(t[44]=[n("关闭",-1)])]),_:1})]),default:l(()=>[f.value?(q(),oe("div",St,[e(re,{column:2,border:""},{default:l(()=>[e(w,{label:"用例编号"},{default:l(()=>[n(d(f.value.case_no||`CASE-${f.value.id}`),1)]),_:1}),e(w,{label:"用例名称"},{default:l(()=>[n(d(f.value.name),1)]),_:1}),e(w,{label:"优先级"},{default:l(()=>[e(B,{type:ee(f.value.priority)},{default:l(()=>[n(d(f.value.priority),1)]),_:1},8,["type"])]),_:1}),e(w,{label:"用例类型"},{default:l(()=>[e(B,{type:"info"},{default:l(()=>[n(d(f.value.case_type),1)]),_:1})]),_:1}),e(w,{label:"自动化状态"},{default:l(()=>[e(B,{type:f.value.automation_status==="automated"?"success":"info"},{default:l(()=>[n(d(f.value.automation_status),1)]),_:1},8,["type"])]),_:1}),e(w,{label:"状态"},{default:l(()=>[e(B,{type:se(f.value.status)},{default:l(()=>[n(d(f.value.status),1)]),_:1},8,["type"])]),_:1}),e(w,{label:"创建时间",span:2},{default:l(()=>[n(d(f.value.created_at?new Date(f.value.created_at).toLocaleString():"-"),1)]),_:1})]),_:1}),e(A,{"content-position":"left"},{default:l(()=>[...t[40]||(t[40]=[n("前置条件",-1)])]),_:1}),y("div",kt,d(f.value.preconditions||"无"),1),e(A,{"content-position":"left"},{default:l(()=>[...t[41]||(t[41]=[n("测试步骤",-1)])]),_:1}),e(H,{data:ie(f.value.steps),border:"",style:{width:"100%"}},{default:l(()=>[e(m,{label:"序号",width:"60",align:"center"},{default:l(({$index:a})=>[y("span",null,d(a+1),1)]),_:1}),e(m,{prop:"step",label:"步骤描述"}),e(m,{prop:"expected",label:"期望结果"})]),_:1},8,["data"]),e(A,{"content-position":"left"},{default:l(()=>[...t[42]||(t[42]=[n("后置条件",-1)])]),_:1}),y("div",ht,d(f.value.postconditions||"无"),1),e(A,{"content-position":"left"},{default:l(()=>[...t[43]||(t[43]=[n("备注",-1)])]),_:1}),y("div",Et,d(f.value.description||"无"),1)])):W("",!0)]),_:1},8,["modelValue"]),e(ae,{modelValue:z.value,"onUpdate:modelValue":t[26]||(t[26]=a=>z.value=a),title:"执行用例",width:"900px","destroy-on-close":""},{footer:l(()=>[e(i,{onClick:t[25]||(t[25]=a=>z.value=!1)},{default:l(()=>[...t[52]||(t[52]=[n("取消",-1)])]),_:1}),e(i,{type:"primary",loading:P.value,onClick:he},{default:l(()=>[...t[53]||(t[53]=[n("提交执行结果",-1)])]),_:1},8,["loading"])]),default:l(()=>[V.value?(q(),oe("div",Ut,[e(re,{column:2,border:""},{default:l(()=>[e(w,{label:"用例编号"},{default:l(()=>[n(d(V.value.case_no||`CASE-${V.value.id}`),1)]),_:1}),e(w,{label:"用例名称"},{default:l(()=>[n(d(V.value.name),1)]),_:1}),e(w,{label:"优先级"},{default:l(()=>[e(B,{type:ee(V.value.priority)},{default:l(()=>[n(d(V.value.priority),1)]),_:1},8,["type"])]),_:1})]),_:1}),e(A,{"content-position":"left"},{default:l(()=>[...t[45]||(t[45]=[n("前置条件",-1)])]),_:1}),y("div",Bt,d(V.value.preconditions||"无"),1),e(A,{"content-position":"left"},{default:l(()=>[...t[46]||(t[46]=[n("测试步骤",-1)])]),_:1}),e(H,{data:ie(V.value.steps),border:"",style:{width:"100%"}},{default:l(()=>[e(m,{label:"序号",width:"60",align:"center"},{default:l(({$index:a})=>[y("span",null,d(a+1),1)]),_:1}),e(m,{prop:"step",label:"步骤描述"}),e(m,{prop:"expected",label:"期望结果"})]),_:1},8,["data"]),e(A,{"content-position":"left"},{default:l(()=>[...t[47]||(t[47]=[n("执行结果",-1)])]),_:1}),e(pe,{model:g,"label-width":"100px"},{default:l(()=>[e(v,{label:"执行状态",prop:"status",required:""},{default:l(()=>[e(Ae,{modelValue:g.status,"onUpdate:modelValue":t[20]||(t[20]=a=>g.status=a)},{default:l(()=>[e(K,{label:"passed"},{default:l(()=>[...t[48]||(t[48]=[n("通过",-1)])]),_:1}),e(K,{label:"failed"},{default:l(()=>[...t[49]||(t[49]=[n("失败",-1)])]),_:1}),e(K,{label:"blocked"},{default:l(()=>[...t[50]||(t[50]=[n("阻塞",-1)])]),_:1}),e(K,{label:"skipped"},{default:l(()=>[...t[51]||(t[51]=[n("跳过",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(v,{label:"实际结果"},{default:l(()=>[e(p,{modelValue:g.actual_result,"onUpdate:modelValue":t[21]||(t[21]=a=>g.actual_result=a),type:"textarea",rows:4,placeholder:"请输入实际执行结果..."},null,8,["modelValue"])]),_:1}),e(v,{label:"备注"},{default:l(()=>[e(p,{modelValue:g.notes,"onUpdate:modelValue":t[22]||(t[22]=a=>g.notes=a),type:"textarea",rows:3,placeholder:"其他备注信息..."},null,8,["modelValue"])]),_:1}),e(v,{label:"执行时长(秒)"},{default:l(()=>[e(Ie,{modelValue:g.duration,"onUpdate:modelValue":t[23]||(t[23]=a=>g.duration=a),min:0,max:99999,placeholder:"执行时长"},null,8,["modelValue"])]),_:1}),e(v,{label:"关联缺陷"},{default:l(()=>[e($,{modelValue:g.defect_ids,"onUpdate:modelValue":t[24]||(t[24]=a=>g.defect_ids=a),multiple:"",filterable:"","allow-create":"",placeholder:"输入缺陷编号或选择",style:{width:"100%"}},{default:l(()=>[e(r,{label:"新建缺陷",value:"new"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])):W("",!0)]),_:1},8,["modelValue"])])}}},Qt=_t(Lt,[["__scopeId","data-v-ce02fa3e"]]);export{Qt as default};
