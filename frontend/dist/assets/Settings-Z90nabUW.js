import{r as v,a as h,B as Ae,a8 as je,c as se,o as E,b as e,w as t,E as Te,a9 as Oe,y as g,at as Ge,au as $e,q as s,f as Fe,g as Le,h as qe,ad as Re,ae as Be,j as He,k as d,t as r,l as k,p as Ke,aa as We,ag as ne,a4 as Me,a5 as Je,$ as Ye,d as A,af as Qe,aF as Xe,aG as Ze,al as el,aD as ie,ar as ll,ao as tl,aj as al,ak as ol,e as sl,am as nl,an as il,aE as dl,ap as J}from"./index-vTAAATWV.js";/* empty css                              *//* empty css                 */import{r as w}from"./index-BRBj6Fej.js";/* empty css                  *//* empty css                       *//* empty css                *//* empty css                    *//* empty css                             *//* empty css                        *//* empty css                  *//* empty css                   *//* empty css                        *//* empty css                      *//* empty css               *//* empty css                   *//* empty css                     */import{u as ul,a as rl}from"./index-j7d3t5fE.js";import{_ as ml}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={getList:c=>w.get("/users",{params:c}),getDetail:c=>w.get(`/users/${c}`),create:c=>w.post("/users",c),update:(c,I)=>w.put(`/users/${c}`,I),delete:c=>w.delete(`/users/${c}`),resetPassword:c=>w.post(`/users/${c}/reset-password`)},de={getConfig:()=>w.get("/oauth/config"),updateConfig:c=>w.post("/oauth/config",c),getAuthorizeUrl:c=>w.get(`/oauth/${c}/authorize`),callback:(c,I)=>w.get(`/oauth/${c}/callback`,{params:I})},pl={class:"settings-page"},fl={class:"toolbar"},cl={key:1},gl={class:"toolbar"},bl={class:"color-preview"},_l={class:"color-picker-wrapper"},Vl={class:"color-value"},yl={__name:"Settings",setup(c){const I=ul(),{t:o,locale:ue}=rl(),Y=v("basic"),P=v(!1),B=v(""),Q=v(),H=v(!1),N=v(!1),K=v(""),X=v(),j=v(!1),Z=v([]),T=h({keyword:"",status:""}),S=h({page:1,pageSize:20,total:0}),f=h({id:null,username:"",password:"",real_name:"",email:"",phone:"",status:"active",is_admin:!1}),re={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],real_name:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},p=h({enabledProviders:[],github:{clientId:"",clientSecret:""},gitee:{clientId:"",clientSecret:""},gitlab:{clientId:"",clientSecret:""},dingtalk:{appKey:"",appSecret:""}}),b=h({systemName:"Test Management Platform",defaultProject:"",language:"zh-CN",timezone:"Asia/Shanghai"}),y=h({emailEnabled:!1,smtpHost:"",smtpPort:587,fromEmail:""}),m=h({id:null,name:"",code:"",color:"#409eff",sort_order:1,is_default:!1}),ee=v({}),U=v([{id:1,name:"新建",code:"new",color:"#909399",sort_order:1,is_default:!0},{id:2,name:"已分配",code:"assigned",color:"#e6a23c",sort_order:2,is_default:!1},{id:3,name:"进行中",code:"in_progress",color:"#409eff",sort_order:3,is_default:!1},{id:4,name:"已解决",code:"resolved",color:"#67c23a",sort_order:4,is_default:!1},{id:5,name:"已关闭",code:"closed",color:"#909399",sort_order:5,is_default:!1}]);async function x(){try{const n=await $.getList({page:S.page,per_page:S.pageSize,...T});Z.value=n.data.items||[],S.total=n.data.total||0}catch{g.error("加载用户列表失败")}}function me(){j.value=!1,K.value="新建用户",Object.assign(f,{id:null,username:"",password:"",real_name:"",email:"",phone:"",status:"active",is_admin:!1}),N.value=!0}function pe(n){j.value=!0,K.value="编辑用户",Object.assign(f,{id:n.id,username:n.username,real_name:n.real_name,email:n.email,phone:n.phone,status:n.status,is_admin:n.is_admin}),N.value=!0}async function fe(){X.value.validate(async n=>{var l,u;if(n)try{const i={...f};i.password||delete i.password,j.value?(await $.update(f.id,i),g.success("更新成功")):(await $.create(i),g.success("创建成功")),N.value=!1,x()}catch(i){g.error(((u=(l=i.response)==null?void 0:l.data)==null?void 0:u.message)||"操作失败")}})}function ce(n){J.confirm("确定要重置该用户的密码吗？重置后密码为：123456","确认重置",{type:"warning"}).then(async()=>{try{await $.resetPassword(n.id),g.success("密码已重置为：123456")}catch{g.error("重置失败")}})}function ge(n){J.confirm("确定要删除该用户吗？","确认删除",{type:"warning"}).then(async()=>{try{await $.delete(n.id),g.success("删除成功"),x()}catch{g.error("删除失败")}})}async function be(){try{for(const n of p.enabledProviders){const l=p[n];n==="dingtalk"?await de.updateConfig({provider:n,client_id:l.appKey,client_secret:l.appSecret}):await de.updateConfig({provider:n,client_id:l.clientId,client_secret:l.clientSecret})}g.success("OAuth配置已保存")}catch{g.error("保存失败")}}function W(){ee.value={name:[{required:!0,message:o("settings.statusName")+" is required",trigger:"blur"}],code:[{required:!0,message:o("settings.statusCode")+" is required",trigger:"blur"}],color:[{required:!0,message:o("settings.displayColor")+" is required",trigger:"change"}]}}function _e(){const n=localStorage.getItem("systemSettings");if(n)try{const l=JSON.parse(n);Object.assign(b,l),l.language&&I.setLanguage(l.language)}catch(l){console.error("Load settings failed:",l)}}function Ve(){W()}function ye(){const n={systemName:b.systemName,defaultProject:b.defaultProject,language:b.language,timezone:b.timezone};localStorage.setItem("systemSettings",JSON.stringify(n)),I.setLanguage(b.language),g.success(o("settings.saveSuccess"))}function ve(){const n={emailEnabled:y.emailEnabled,smtpHost:y.smtpHost,smtpPort:y.smtpPort,fromEmail:y.fromEmail};localStorage.setItem("notificationSettings",JSON.stringify(n)),g.success(o("settings.notificationSaveSuccess"))}function ke(){g.success(o("settings.testEmailSent"))}Ae(()=>{_e(),W(),x()}),je(ue,()=>{W()});function we(){H.value=!1,B.value=o("settings.newStatus"),Object.assign(m,{id:null,name:"",code:"",color:"#409eff",sort_order:U.value.length+1,is_default:!1}),P.value=!0}function Se(n){H.value=!0,B.value=o("common.edit")+" "+o("settings.workflow"),Object.assign(m,{id:n.id,name:n.name,code:n.code,color:n.color,sort_order:n.sort_order,is_default:n.is_default}),P.value=!0}function Ce(n){J.confirm(o("settings.deleteConfirm"),o("common.confirm"),{type:"warning"}).then(()=>{const l=U.value.findIndex(u=>u.id===n.id);l>-1&&(U.value.splice(l,1),g.success(o("common.deleteSuccess")))})}function Ee(){Q.value.validate(n=>{if(n){if(H.value){const l=U.value.findIndex(u=>u.id===m.id);l>-1&&(Object.assign(U.value[l],m),g.success(o("settings.updateSuccess")))}else U.value.push({id:Date.now(),name:m.name,code:m.code,color:m.color,sort_order:m.sort_order,is_default:m.is_default}),g.success(o("settings.addSuccess"));P.value=!1}})}return(n,l)=>{const u=qe,i=Le,C=Be,F=Re,_=He,O=Fe,z=$e,Ue=Ke,V=Je,D=Ye,le=Me,xe=Qe,L=Ze,he=Xe,q=el,M=ll,te=tl,G=ol,Ie=al,Pe=Ge,Ne=Te,ae=il,ze=nl,oe=Oe,De=dl;return E(),se("div",pl,[e(Ne,null,{header:t(()=>[k("span",null,r(s(o)("settings.title")),1)]),default:t(()=>[e(Pe,{modelValue:Y.value,"onUpdate:modelValue":l[21]||(l[21]=a=>Y.value=a)},{default:t(()=>[e(z,{label:s(o)("settings.basic"),name:"basic"},{default:t(()=>[e(O,{model:b,"label-width":"120px",style:{"max-width":"600px"}},{default:t(()=>[e(i,{label:s(o)("settings.systemName")},{default:t(()=>[e(u,{modelValue:b.systemName,"onUpdate:modelValue":l[0]||(l[0]=a=>b.systemName=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.defaultProject")},{default:t(()=>[e(F,{modelValue:b.defaultProject,"onUpdate:modelValue":l[1]||(l[1]=a=>b.defaultProject=a),placeholder:s(o)("settings.defaultProject"),style:{width:"100%"}},{default:t(()=>[e(C,{label:"Project A",value:"1"}),e(C,{label:"Project B",value:"2"})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.language")},{default:t(()=>[e(F,{modelValue:b.language,"onUpdate:modelValue":l[2]||(l[2]=a=>b.language=a),style:{width:"100%"},onChange:Ve},{default:t(()=>[e(C,{label:"简体中文",value:"zh-CN"}),e(C,{label:"English",value:"en-US"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.timezone")},{default:t(()=>[e(F,{modelValue:b.timezone,"onUpdate:modelValue":l[3]||(l[3]=a=>b.timezone=a),style:{width:"100%"}},{default:t(()=>[e(C,{label:"Asia/Shanghai (UTC+8)",value:"Asia/Shanghai"}),e(C,{label:"America/New_York (UTC-5)",value:"America/New_York"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(i,null,{default:t(()=>[e(_,{type:"primary",onClick:ye},{default:t(()=>[d(r(s(o)("common.save")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["label"]),e(z,{label:"成员管理",name:"members"},{default:t(()=>[k("div",fl,[e(u,{modelValue:T.keyword,"onUpdate:modelValue":l[4]||(l[4]=a=>T.keyword=a),placeholder:s(o)("common.search"),clearable:"",style:{width:"200px"},onChange:x},{prefix:t(()=>[e(Ue,null,{default:t(()=>[e(s(We))]),_:1})]),_:1},8,["modelValue","placeholder"]),e(F,{modelValue:T.status,"onUpdate:modelValue":l[5]||(l[5]=a=>T.status=a),placeholder:s(o)("user.status"),clearable:"",onChange:x,style:{width:"120px"}},{default:t(()=>[e(C,{label:"激活",value:"active"}),e(C,{label:"禁用",value:"disabled"})]),_:1},8,["modelValue","placeholder"]),l[39]||(l[39]=k("div",{style:{flex:"1"}},null,-1)),e(_,{type:"primary",icon:s(ne),onClick:me},{default:t(()=>[...l[38]||(l[38]=[d("新建用户",-1)])]),_:1},8,["icon"])]),e(le,{data:Z.value,style:{width:"100%"}},{default:t(()=>[e(V,{prop:"username",label:s(o)("user.username"),width:"120"},null,8,["label"]),e(V,{prop:"real_name",label:s(o)("user.realName")},null,8,["label"]),e(V,{prop:"email",label:s(o)("user.email")},null,8,["label"]),e(V,{prop:"phone",label:s(o)("user.phone")},null,8,["label"]),e(V,{prop:"status",label:s(o)("user.status"),width:"100"},{default:t(({row:a})=>[e(D,{type:a.status==="active"?"success":"danger"},{default:t(()=>[d(r(a.status==="active"?"激活":"禁用"),1)]),_:2},1032,["type"])]),_:1},8,["label"]),e(V,{prop:"is_admin",label:s(o)("user.isAdmin"),width:"100"},{default:t(({row:a})=>[a.is_admin?(E(),A(D,{key:0,type:"warning"},{default:t(()=>[...l[40]||(l[40]=[d("管理员",-1)])]),_:1})):(E(),A(D,{key:1,type:"info"},{default:t(()=>[...l[41]||(l[41]=[d("普通用户",-1)])]),_:1}))]),_:1},8,["label"]),e(V,{prop:"oauth_provider",label:"OAuth",width:"100"},{default:t(({row:a})=>[a.oauth_provider?(E(),A(D,{key:0,type:"info"},{default:t(()=>[d(r(a.oauth_provider),1)]),_:2},1024)):(E(),se("span",cl,"-"))]),_:1}),e(V,{label:s(o)("common.operation"),width:"240",fixed:"right"},{default:t(({row:a})=>[e(_,{type:"primary",link:"",size:"small",onClick:R=>pe(a)},{default:t(()=>[d(r(s(o)("common.edit")),1)]),_:1},8,["onClick"]),e(_,{type:"warning",link:"",size:"small",onClick:R=>ce(a)},{default:t(()=>[...l[42]||(l[42]=[d("重置密码",-1)])]),_:1},8,["onClick"]),e(_,{type:"danger",link:"",size:"small",onClick:R=>ge(a)},{default:t(()=>[d(r(s(o)("common.delete")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),e(xe,{"current-page":S.page,"onUpdate:currentPage":l[6]||(l[6]=a=>S.page=a),"page-size":S.pageSize,"onUpdate:pageSize":l[7]||(l[7]=a=>S.pageSize=a),total:S.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:x,onSizeChange:x,style:{"margin-top":"20px","justify-content":"flex-end"}},null,8,["current-page","page-size","total"])]),_:1}),e(z,{label:"OAuth认证",name:"oauth"},{default:t(()=>[e(O,{model:p,"label-width":"120px",style:{"max-width":"600px"}},{default:t(()=>[e(i,{label:"启用的平台"},{default:t(()=>[e(he,{modelValue:p.enabledProviders,"onUpdate:modelValue":l[8]||(l[8]=a=>p.enabledProviders=a)},{default:t(()=>[e(L,{label:"github"},{default:t(()=>[...l[43]||(l[43]=[d("GitHub",-1)])]),_:1}),e(L,{label:"gitee"},{default:t(()=>[...l[44]||(l[44]=[d("Gitee",-1)])]),_:1}),e(L,{label:"gitlab"},{default:t(()=>[...l[45]||(l[45]=[d("GitLab",-1)])]),_:1}),e(L,{label:"dingtalk"},{default:t(()=>[...l[46]||(l[46]=[d("钉钉",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(q,{"content-position":"left"},{default:t(()=>[...l[47]||(l[47]=[d("GitHub 配置",-1)])]),_:1}),e(i,{label:"Client ID"},{default:t(()=>[e(u,{modelValue:p.github.clientId,"onUpdate:modelValue":l[9]||(l[9]=a=>p.github.clientId=a),placeholder:"GitHub Client ID"},null,8,["modelValue"])]),_:1}),e(i,{label:"Client Secret"},{default:t(()=>[e(u,{modelValue:p.github.clientSecret,"onUpdate:modelValue":l[10]||(l[10]=a=>p.github.clientSecret=a),type:"password",placeholder:"GitHub Client Secret"},null,8,["modelValue"])]),_:1}),e(q,{"content-position":"left"},{default:t(()=>[...l[48]||(l[48]=[d("Gitee 配置",-1)])]),_:1}),e(i,{label:"Client ID"},{default:t(()=>[e(u,{modelValue:p.gitee.clientId,"onUpdate:modelValue":l[11]||(l[11]=a=>p.gitee.clientId=a),placeholder:"Gitee Client ID"},null,8,["modelValue"])]),_:1}),e(i,{label:"Client Secret"},{default:t(()=>[e(u,{modelValue:p.gitee.clientSecret,"onUpdate:modelValue":l[12]||(l[12]=a=>p.gitee.clientSecret=a),type:"password",placeholder:"Gitee Client Secret"},null,8,["modelValue"])]),_:1}),e(q,{"content-position":"left"},{default:t(()=>[...l[49]||(l[49]=[d("GitLab 配置",-1)])]),_:1}),e(i,{label:"Application ID"},{default:t(()=>[e(u,{modelValue:p.gitlab.clientId,"onUpdate:modelValue":l[13]||(l[13]=a=>p.gitlab.clientId=a),placeholder:"GitLab Application ID"},null,8,["modelValue"])]),_:1}),e(i,{label:"Secret"},{default:t(()=>[e(u,{modelValue:p.gitlab.clientSecret,"onUpdate:modelValue":l[14]||(l[14]=a=>p.gitlab.clientSecret=a),type:"password",placeholder:"GitLab Secret"},null,8,["modelValue"])]),_:1}),e(q,{"content-position":"left"},{default:t(()=>[...l[50]||(l[50]=[d("钉钉配置",-1)])]),_:1}),e(i,{label:"AppKey"},{default:t(()=>[e(u,{modelValue:p.dingtalk.appKey,"onUpdate:modelValue":l[15]||(l[15]=a=>p.dingtalk.appKey=a),placeholder:"钉钉 AppKey"},null,8,["modelValue"])]),_:1}),e(i,{label:"AppSecret"},{default:t(()=>[e(u,{modelValue:p.dingtalk.appSecret,"onUpdate:modelValue":l[16]||(l[16]=a=>p.dingtalk.appSecret=a),type:"password",placeholder:"钉钉 AppSecret"},null,8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(_,{type:"primary",onClick:be},{default:t(()=>[...l[51]||(l[51]=[d("保存配置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(z,{label:s(o)("settings.workflow"),name:"workflow"},{default:t(()=>[k("div",gl,[l[52]||(l[52]=k("div",{style:{flex:"1"}},null,-1)),e(_,{type:"primary",icon:s(ne),onClick:we},{default:t(()=>[d(r(s(o)("settings.newStatus")),1)]),_:1},8,["icon"])]),e(le,{data:U.value,style:{width:"100%"}},{default:t(()=>[e(V,{prop:"name",label:s(o)("settings.statusName")},null,8,["label"]),e(V,{prop:"code",label:s(o)("settings.statusCode")},null,8,["label"]),e(V,{label:s(o)("settings.displayColor"),width:"150"},{default:t(({row:a})=>[k("div",bl,[k("span",{class:"color-box",style:ie({backgroundColor:a.color})},null,4),k("span",null,r(a.color),1)])]),_:1},8,["label"]),e(V,{prop:"sort_order",label:s(o)("settings.sortOrder"),width:"100"},null,8,["label"]),e(V,{prop:"is_default",label:s(o)("settings.setDefault"),width:"100"},{default:t(({row:a})=>[a.is_default?(E(),A(D,{key:0,type:"success"},{default:t(()=>[d(r(s(o)("settings.yes")),1)]),_:1})):(E(),A(D,{key:1,type:"info"},{default:t(()=>[d(r(s(o)("settings.no")),1)]),_:1}))]),_:1},8,["label"]),e(V,{label:s(o)("common.operation"),width:"150"},{default:t(({row:a})=>[e(_,{type:"primary",link:"",size:"small",onClick:R=>Se(a)},{default:t(()=>[d(r(s(o)("common.edit")),1)]),_:1},8,["onClick"]),e(_,{type:"danger",link:"",size:"small",onClick:R=>Ce(a)},{default:t(()=>[d(r(s(o)("common.delete")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["label"]),e(z,{label:s(o)("settings.notification"),name:"notification"},{default:t(()=>[e(O,{model:y,"label-width":"120px",style:{"max-width":"600px"}},{default:t(()=>[e(i,{label:s(o)("settings.emailNotification")},{default:t(()=>[e(M,{modelValue:y.emailEnabled,"onUpdate:modelValue":l[17]||(l[17]=a=>y.emailEnabled=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.smtpServer")},{default:t(()=>[e(u,{modelValue:y.smtpHost,"onUpdate:modelValue":l[18]||(l[18]=a=>y.smtpHost=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.smtpPort")},{default:t(()=>[e(te,{modelValue:y.smtpPort,"onUpdate:modelValue":l[19]||(l[19]=a=>y.smtpPort=a),min:1,max:65535},null,8,["modelValue"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.fromEmail")},{default:t(()=>[e(u,{modelValue:y.fromEmail,"onUpdate:modelValue":l[20]||(l[20]=a=>y.fromEmail=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(i,null,{default:t(()=>[e(_,{type:"primary",onClick:ve},{default:t(()=>[d(r(s(o)("common.save")),1)]),_:1}),e(_,{onClick:ke},{default:t(()=>[d(r(s(o)("settings.sendTestEmail")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["label"]),e(z,{label:s(o)("settings.about"),name:"about"},{default:t(()=>[e(Ie,{title:s(o)("settings.sysInfo"),column:1,border:""},{default:t(()=>[e(G,{label:s(o)("settings.platformName")},{default:t(()=>[d(r(s(o)("settings.platformName")),1)]),_:1},8,["label"]),e(G,{label:s(o)("settings.sysVersion")},{default:t(()=>[d(r(s(o)("settings.version")),1)]),_:1},8,["label"]),e(G,{label:s(o)("settings.frontendStack")},{default:t(()=>[d(r(s(o)("settings.frontendTech")),1)]),_:1},8,["label"]),e(G,{label:s(o)("settings.backendStack")},{default:t(()=>[d(r(s(o)("settings.backendTech")),1)]),_:1},8,["label"]),e(G,{label:s(o)("settings.license")},{default:t(()=>[d(r(s(o)("settings.licenseType")),1)]),_:1},8,["label"])]),_:1},8,["title"])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1}),e(oe,{modelValue:N.value,"onUpdate:modelValue":l[30]||(l[30]=a=>N.value=a),title:K.value,width:"600px","destroy-on-close":""},{footer:t(()=>[e(_,{onClick:l[29]||(l[29]=a=>N.value=!1)},{default:t(()=>[d(r(s(o)("common.cancel")),1)]),_:1}),e(_,{type:"primary",onClick:fe},{default:t(()=>[d(r(s(o)("common.confirm")),1)]),_:1})]),default:t(()=>[e(O,{model:f,rules:re,ref_key:"userFormRef",ref:X,"label-width":"100px"},{default:t(()=>[e(i,{label:"用户名",prop:"username"},{default:t(()=>[e(u,{modelValue:f.username,"onUpdate:modelValue":l[22]||(l[22]=a=>f.username=a),disabled:j.value},null,8,["modelValue","disabled"])]),_:1}),j.value?sl("",!0):(E(),A(i,{key:0,label:"密码",prop:"password"},{default:t(()=>[e(u,{modelValue:f.password,"onUpdate:modelValue":l[23]||(l[23]=a=>f.password=a),type:"password",placeholder:"不填则使用默认密码123456"},null,8,["modelValue"])]),_:1})),e(i,{label:"真实姓名",prop:"real_name"},{default:t(()=>[e(u,{modelValue:f.real_name,"onUpdate:modelValue":l[24]||(l[24]=a=>f.real_name=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"邮箱",prop:"email"},{default:t(()=>[e(u,{modelValue:f.email,"onUpdate:modelValue":l[25]||(l[25]=a=>f.email=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"手机号"},{default:t(()=>[e(u,{modelValue:f.phone,"onUpdate:modelValue":l[26]||(l[26]=a=>f.phone=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"状态"},{default:t(()=>[e(ze,{modelValue:f.status,"onUpdate:modelValue":l[27]||(l[27]=a=>f.status=a)},{default:t(()=>[e(ae,{label:"active"},{default:t(()=>[...l[53]||(l[53]=[d("激活",-1)])]),_:1}),e(ae,{label:"disabled"},{default:t(()=>[...l[54]||(l[54]=[d("禁用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"管理员"},{default:t(()=>[e(M,{modelValue:f.is_admin,"onUpdate:modelValue":l[28]||(l[28]=a=>f.is_admin=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(oe,{modelValue:P.value,"onUpdate:modelValue":l[37]||(l[37]=a=>P.value=a),title:B.value,width:"500px","destroy-on-close":""},{footer:t(()=>[e(_,{onClick:l[36]||(l[36]=a=>P.value=!1)},{default:t(()=>[d(r(s(o)("common.cancel")),1)]),_:1}),e(_,{type:"primary",onClick:Ee},{default:t(()=>[d(r(s(o)("common.confirm")),1)]),_:1})]),default:t(()=>[e(O,{model:m,rules:ee.value,ref_key:"workflowFormRef",ref:Q,"label-width":"100px"},{default:t(()=>[e(i,{label:s(o)("settings.statusName"),prop:"name"},{default:t(()=>[e(u,{modelValue:m.name,"onUpdate:modelValue":l[31]||(l[31]=a=>m.name=a),placeholder:s(o)("settings.statusName")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.statusCode"),prop:"code"},{default:t(()=>[e(u,{modelValue:m.code,"onUpdate:modelValue":l[32]||(l[32]=a=>m.code=a),placeholder:"e.g.: new, in_progress"},null,8,["modelValue"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.displayColor"),prop:"color"},{default:t(()=>[k("div",_l,[e(De,{modelValue:m.color,"onUpdate:modelValue":l[33]||(l[33]=a=>m.color=a),"show-alpha":""},null,8,["modelValue"]),k("span",Vl,r(m.color),1),k("span",{class:"color-preview-box",style:ie({backgroundColor:m.color})},null,4)])]),_:1},8,["label"]),e(i,{label:s(o)("settings.sortOrder"),prop:"sort_order"},{default:t(()=>[e(te,{modelValue:m.sort_order,"onUpdate:modelValue":l[34]||(l[34]=a=>m.sort_order=a),min:1,max:100},null,8,["modelValue"])]),_:1},8,["label"]),e(i,{label:s(o)("settings.setDefault")},{default:t(()=>[e(M,{modelValue:m.is_default,"onUpdate:modelValue":l[35]||(l[35]=a=>m.is_default=a)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}},$l=ml(yl,[["__scopeId","data-v-c08e8246"]]);export{$l as default};
