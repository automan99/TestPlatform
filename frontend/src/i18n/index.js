// 国际化翻译
import { computed } from 'vue'
import { useAppStore } from '@/store'

// 翻译字典
const messages = {
  'zh-CN': {
    // 通用
    common: {
      confirm: '确定',
      cancel: '取消',
      save: '保存',
      delete: '删除',
      edit: '编辑',
      create: '新建',
      search: '搜索',
      reset: '重置',
      submit: '提交',
      back: '返回',
      logout: '退出登录',
      loading: '加载中...',
      noData: '暂无数据',
      operation: '操作',
      status: '状态',
      name: '名称',
      description: '描述',
      createdAt: '创建时间',
      updatedAt: '更新时间',
      advanced: '高级搜索',
      close: '关闭',
      required: '为必填项',
      none: '无',
      error: '操作失败',
      keyword: '关键词'
    },
    // 菜单
    menu: {
      home: '首页',
      testCases: '测试用例',
      testPlans: '测试计划',
      environments: '测试环境',
      defects: '缺陷管理',
      mcpSkills: 'MCP/Skills',
      reports: '测试报告',
      settings: '系统设置',
      // 菜单管理
      title: '菜单管理',
      description: '管理系统菜单和权限',
      addMenu: '添加菜单',
      editMenu: '编辑菜单',
      addChildMenu: '添加子菜单',
      addChild: '添加子菜单',
      menuName: '菜单名称',
      name: '菜单名称',
      code: '菜单代码',
      path: '路由路径',
      icon: '图标',
      type: '类型',
      button: '按钮',
      link: '外链',
      menu: '菜单',
      sortOrder: '排序',
      status: '状态',
      visible: '可见',
      hidden: '隐藏',
      parentMenu: '父菜单',
      selectParent: '选择父菜单',
      namePlaceholder: '请输入菜单名称',
      titlePlaceholder: '请输入菜单标题',
      codePlaceholder: '请输入菜单代码',
      pathPlaceholder: '请输入路由路径',
      permissionPlaceholder: '请输入权限标识',
      selectType: '选择类型',
      selectIcon: '选择图标',
      nameRequired: '请输入菜单名称',
      codeRequired: '请输入菜单代码',
      typeRequired: '请选择类型',
      searchPlaceholder: '搜索菜单名称、代码...',
      expandAll: '展开全部',
      collapseAll: '收起全部',
      loadFailed: '加载菜单失败',
      loadRolesFailed: '加载角色失败',
      loadRoleMenusFailed: '加载角色菜单失败',
      createSuccess: '创建成功',
      updateSuccess: '更新成功',
      deleteSuccess: '删除成功',
      saveFailed: '保存失败',
      deleteConfirm: '确定要删除这个菜单吗？',
      deleteFailed: '删除失败',
      // 角色菜单分配
      assignMenus: '分配菜单权限',
      selectRole: '选择角色',
      menus: '菜单',
      selectRoleFirst: '请先选择角色',
      assignSuccess: '分配成功',
      assignFailed: '分配失败',
      // 类型选项
      typeMenu: '菜单',
      typeButton: '按钮',
      typeLink: '外链'
    },
    // 首页
    dashboard: {
      title: '测试管理平台',
      welcome: '欢迎使用测试管理平台',
      statistics: '数据统计',
      totalCases: '用例总数',
      totalPlans: '计划总数',
      totalDefects: '缺陷总数',
      executedToday: '今日执行',
      recentCases: '最近用例',
      recentPlans: '最近计划'
    },
    // 测试用例
    testCase: {
      title: '用例',
      newFolder: '新建文件夹',
      newCase: '新建用例',
      folderName: '文件夹名称',
      caseNo: '用例编号',
      caseName: '用例名称',
      priority: '优先级',
      type: '类型',
      automation: '自动化',
      status: '状态',
      preconditions: '前置条件',
      testSteps: '测试步骤',
      stepDesc: '步骤描述',
      expected: '期望结果',
      postconditions: '后置条件',
      remarks: '备注',
      addStep: '添加步骤',
      removeStep: '删除',
      deleteConfirm: '确定要删除这条用例吗？',
      batchDelete: '批量删除',
      batchMove: '批量移动',
      createSuccess: '创建成功',
      updateSuccess: '更新成功',
      deleteSuccess: '删除成功',
      moveSuccess: '移动成功',
      critical: '紧急',
      high: '高',
      medium: '中',
      low: '低',
      functional: '功能测试',
      performance: '性能测试',
      security: '安全测试',
      ui: 'UI测试',
      api: 'API测试',
      manual: '手工',
      automated: '自动化',
      semiAutomated: '半自动化',
      draft: '草稿',
      active: '激活',
      archived: '归档',
      // 新增
      suite: '套件',
      addSubSuite: '添加子套件',
      editSuite: '编辑套件',
      editCase: '编辑用例',
      deleteSuiteConfirm: '确定要删除这个套件吗？测试用例将变成无套件状态。',
      searchPlaceholder: '搜索用例...',
      selectSuite: '选择套件',
      selectPriority: '选择优先级',
      selectStatus: '选择状态',
      selectType: '选择类型',
      enterSuiteName: '输入套件名称',
      selectParentSuite: '选择父套件',
      enterCaseName: '请输入用例名称',
      autoGenerated: '自动生成',
      preconditionsPlaceholder: '测试执行前的条件...',
      postconditionsPlaceholder: '清理或恢复操作...',
      remarksPlaceholder: '额外备注...',
      enterStepDesc: '输入步骤描述',
      enterExpected: '输入期望结果',
      expectedResult: '期望结果',
      viewCase: '查看用例',
      executeCase: '执行用例',
      executionResult: '执行结果',
      passed: '通过',
      failed: '失败',
      blocked: '阻塞',
      skipped: '跳过',
      actualResult: '实际结果',
      executionNotesPlaceholder: '额外备注...',
      duration: '时长(秒)',
      executionDuration: '执行时长',
      relatedDefects: '关联缺陷',
      selectDefects: '选择现有缺陷',
      createDefect: '创建缺陷',
      environment: '环境',
      selectEnvironment: '选择执行环境',
      executionSubmitted: '执行结果提交成功',
      submitFailed: '提交失败：',
      selectExecutionStatus: '请选择执行状态',
      submitResult: '提交结果',
      keyword: '关键词',
      keywordPlaceholder: '搜索名称、编号、步骤、期望结果...',
      caseNoPlaceholder: '例如：CASE-0001',
      startDate: '开始日期',
      endDate: '结束日期',
      targetSuitePrompt: '输入目标套件ID',
      batchDeleteConfirm: '确定要删除选中的 {count} 条用例吗？',
      parentSuite: '父套件'
    },
    // 测试计划
    testPlan: {
      title: '计划',
      newPlan: '新建计划',
      planNo: '计划编号',
      planName: '计划名称',
      startDate: '开始日期',
      endDate: '结束日期',
      buildVersion: '测试版本',
      priority: '优先级',
      autoEnabled: '启用自动化',
      caseManagement: '用例管理',
      execute: '执行',
      deleteConfirm: '确定要删除这个计划吗？',
      createSuccess: '创建成功',
      updateSuccess: '更新成功',
      deleteSuccess: '删除成功',
      draft: '草稿',
      active: '进行中',
      completed: '已完成',
      cancelled: '已取消'
    },
    // 测试执行
    testExecution: {
      title: '执行测试',
      addCase: '添加用例',
      batchExecute: '批量执行',
      caseNo: '编号',
      caseName: '用例名称',
      priority: '优先级',
      execStatus: '执行状态',
      executor: '执行人',
      remove: '移除',
      removeConfirm: '确定要从计划中移除这条用例吗？',
      batchRemove: '批量移除',
      executeStatus: '执行状态',
      actualResult: '实际结果',
      notes: '备注',
      relatedDefect: '关联缺陷',
      newDefect: '新建缺陷',
      notExecuted: '未执行',
      passed: '通过',
      failed: '失败',
      blocked: '阻塞',
      skipped: '跳过',
      submitSuccess: '提交成功',
      addCaseSuccess: '成功添加',
      removeSuccess: '移除成功',
      selected: '已选择',
      selectFolder: '选择文件夹'
    },
    // 测试环境
    environment: {
      title: '测试环境管理',
      newEnv: '新建环境',
      envName: '环境名称',
      envCode: '环境编码',
      envType: '环境类型',
      baseUrl: '基础URL',
      resources: '资源',
      newResource: '新建资源',
      resourceName: '资源名称',
      resourceType: '资源类型',
      host: '主机地址',
      port: '端口',
      username: '用户名',
      password: '密码',
      system: '系统',
      online: '在线',
      offline: '离线',
      busy: '忙碌',
      error: '错误',
      normal: '正常',
      disabled: '停用',
      resourceCount: '资源数',
      deleteConfirm: '确定要删除这个环境吗？',
      deleteResourceConfirm: '确定要删除这个资源吗？',
      createSuccess: '创建成功',
      updateSuccess: '更新成功',
      deleteSuccess: '删除成功',
      dev: '开发环境',
      testing: '测试环境',
      staging: '预发布环境',
      production: '生产环境',
      server: '服务器',
      database: '数据库',
      cache: '缓存',
      messageQueue: '消息队列'
    },
    // 缺陷管理
    defect: {
      title: '缺陷',
      modules: '模块',
      newModule: '新建模块',
      newSubModule: '新建子模块',
      editModule: '编辑模块',
      deleteModule: '删除模块',
      moduleName: '模块名称',
      parentModule: '父模块',
      selectParentModule: '选择父模块',
      enterModuleName: '输入模块名称',
      allDefects: '所有缺陷',
      currentModule: '当前模块',
      newDefect: '新建缺陷',
      editDefect: '编辑缺陷',
      defectNo: '缺陷编号',
      title: '标题',
      titlePlaceholder: '输入缺陷标题',
      severity: '严重程度',
      priority: '优先级',
      status: '状态',
      assignedTo: '指派给',
      reporter: '报告人',
      reportedDate: '报告日期',
      type: '类型',
      description: '描述',
      descriptionPlaceholder: '描述缺陷...',
      stepsToReproduce: '重现步骤',
      stepsPlaceholder: '重现缺陷的步骤...',
      expectedBehavior: '期望行为',
      expectedPlaceholder: '应该发生什么...',
      actualBehavior: '实际行为',
      actualPlaceholder: '实际发生了什么...',
      environment: '环境',
      environmentPlaceholder: '例如：生产环境',
      browser: '浏览器',
      browserPlaceholder: '例如：Chrome 120',
      os: '操作系统',
      osPlaceholder: '例如：Windows 11',
      deleteConfirm: '确定要删除这个缺陷吗？',
      deleteModuleConfirm: '确定要删除这个模块吗？',
      createSuccess: '创建成功',
      updateSuccess: '更新成功',
      deleteSuccess: '删除成功',
      deletedSuccess: '删除成功',
      updatedSuccess: '更新成功',
      createdSuccess: '创建成功',
      searchDefects: '搜索缺陷...',
      advancedSearch: '高级搜索',
      defectNoPlaceholder: '例如：DEF-0001',
      searchTitle: '搜索标题',
      keywordPlaceholder: '搜索所有字段...',
      keyword: '关键词',
      selectSeverity: '选择严重程度',
      selectPriority: '选择优先级',
      selectStatus: '选择状态',
      selectType: '选择类型',
      selectMember: '选择成员',
      enterAssigneeName: '输入负责人姓名',
      startDate: '开始日期',
      endDate: '结束日期',
      startPlaceholder: '开始日期',
      endPlaceholder: '结束日期',
      created: '创建时间',
      updated: '更新时间',
      actions: '操作',
      view: '查看',
      addSubModule: '添加子模块',
      // Severity
      critical: '致命',
      high: '严重',
      medium: '一般',
      low: '轻微',
      trivial: '琐碎',
      // Priority
      urgent: '紧急',
      high: '高',
      medium: '中',
      low: '低',
      // Status
      new: '新建',
      assigned: '已分配',
      inProgress: '进行中',
      resolved: '已解决',
      closed: '已关闭',
      // Type
      bug: '缺陷',
      feature: '功能',
      improvement: '改进',
      task: '任务',
      // Module
      module: '模块',
      addSubModule: '添加子模块'
    },
    // 测试报告
    report: {
      title: '测试报告',
      reportName: '报告名称',
      reportType: '报告类型',
      testPlan: '测试计划',
      executeTime: '执行时间',
      totalCases: '用例总数',
      passedCases: '通过用例',
      failedCases: '失败用例',
      passRate: '通过率',
      summary: '报告摘要',
      detail: '报告详情'
    },
    // 系统设置
    settings: {
      title: '系统设置',
      basic: '基本设置',
      workflow: '缺陷工作流',
      notification: '通知设置',
      about: '关于',
      systemName: '系统名称',
      defaultProject: '默认项目',
      language: '语言',
      timezone: '时区',
      save: '保存',
      saveSuccess: '基本设置保存成功',
      notificationSaveSuccess: '通知设置保存成功',
      testEmailSent: '测试邮件已发送',
      newStatus: '新建状态',
      statusName: '状态名称',
      statusCode: '状态代码',
      displayColor: '显示颜色',
      sortOrder: '排序',
      setDefault: '设为默认',
      yes: '是',
      no: '否',
      deleteConfirm: '确定要删除这个状态吗？',
      addSuccess: '添加成功',
      updateSuccess: '更新成功',
      emailNotification: '邮件通知',
      smtpServer: 'SMTP服务器',
      smtpPort: 'SMTP端口',
      fromEmail: '发件人邮箱',
      sendTestEmail: '发送测试邮件',
      sysInfo: '系统信息',
      sysVersion: '系统版本',
      frontendStack: '前端技术栈',
      backendStack: '后端技术栈',
      license: '许可证',
      platformName: '测试管理平台',
      version: 'v1.0.0',
      frontendTech: 'Vue 3 + Element Plus + Vite',
      backendTech: 'Flask + Flask-RESTX + SQLAlchemy',
      licenseType: 'MIT License'
    },
    // 个人信息
    profile: {
      title: '个人信息',
      basicInfo: '基本信息',
      security: '安全设置',
      activity: '活动记录',
      preferences: '偏好设置',
      enterRealName: '请输入真实姓名',
      enterEmail: '请输入邮箱地址',
      enterPhone: '请输入手机号码',
      enterCurrentPassword: '请输入当前密码',
      enterNewPassword: '请输入新密码',
      confirmNewPassword: '请确认新密码',
      updatePassword: '修改密码',
      timezone: '时区',
      language: '语言',
      theme: '主题',
      notifications: '邮件通知',
      notificationsDesc: '接收邮件通知',
      autoSave: '自动保存',
      autoSaveDesc: '编辑时自动保存草稿',
      itemsPerPage: '每页显示条数',
      currentPassword: '当前密码',
      newPassword: '新密码',
      confirmPassword: '确认密码',
      passwordTip: '密码要求',
      requirement1: '密码长度至少 6 位',
      requirement2: '包含字母和数字',
      requirement3: '包含特殊字符',
      passwordMismatch: '两次输入的密码不一致',
      passwordTooShort: '密码长度不能少于 6 位',
      invalidEmail: '请输入正确的邮箱地址',
      invalidPhone: '请输入正确的手机号码',
      loadFailed: '加载失败',
      updateSuccess: '更新成功',
      updateFailed: '更新失败',
      passwordChangeSuccess: '密码修改成功',
      passwordChangeFailed: '密码修改失败',
      preferencesSaved: '偏好设置已保存',
      noActivity: '暂无活动记录',
      uploadImageOnly: '只能上传图片文件!',
      uploadImageSize: '图片大小不能超过 2MB!',
      avatarUploadSuccess: '头像上传成功',
      avatarUploadFailed: '头像上传失败'
    },
    // 主题
    theme: {
      light: '浅色',
      dark: '深色',
      blue: '蓝色',
      green: '绿色',
      purple: '紫色'
    },
    // 用户
    user: {
      title: '用户管理',
      username: '用户名',
      realName: '真实姓名',
      email: '邮箱',
      phone: '手机号',
      isAdmin: '管理员',
      admin: '管理员',
      member: '普通用户',
      status: '状态',
      active: '激活',
      disabled: '禁用'
    },
    // Tenant
    tenant: {
      title: '租户管理',
      create: '新建租户',
      edit: '编辑租户',
      name: '租户名称',
      code: '租户代码',
      description: '描述',
      status: '状态',
      statusActive: '激活',
      statusSuspended: '暂停',
      statusExpired: '过期',
      users: '用户数',
      projects: '项目数',
      maxUsers: '最大用户数',
      maxProjects: '最大项目数',
      maxStorage: '最大存储(GB)',
      expireDate: '过期日期',
      switch: '切换',
      switchSuccess: '切换成功',
      switchFailed: '切换失败',
      deleteConfirm: '确定要删除这个租户吗？',
      deleteSuccess: '删除成功',
      createSuccess: '创建成功',
      updateSuccess: '更新成功',
      searchPlaceholder: '搜索租户',
      currentTenant: '当前租户',
      switchTenant: '切换租户'
    },
    // Project
    project: {
      title: '项目管理',
      name: '项目名称',
      code: '项目代码',
      key: '项目标识符',
      description: '项目描述',
      projectType: '项目类型',
      url: '项目URL',
      repository: '代码仓库',
      status: '状态',
      owner: '负责人',
      lead: '项目主管',
      color: '颜色',
      icon: '图标',
      sort_order: '排序',
      testSuiteCount: '测试套件数',
      testCaseCount: '测试用例数',
      testPlanCount: '测试计划数',
      defectCount: '缺陷数',
      statusActive: '激活',
      statusArchived: '已归档',
      statusCompleted: '已完成',
      typeWeb: 'Web应用',
      typeMobile: '移动应用',
      typeApi: 'API接口',
      typeDesktop: '桌面应用',
      deleteConfirm: '确定要删除这个项目吗？',
      createSuccess: '项目创建成功',
      updateSuccess: '项目更新成功',
      deleteSuccess: '项目删除成功',
      switchSuccess: '项目切换成功',
      statistics: '项目统计',
      recentExecutions: '最近执行',
      // 新增
      create: '新建项目',
      edit: '编辑项目',
      searchPlaceholder: '搜索项目名称...',
      noProjects: '暂无项目',
      noProjectsDesc: '点击下方按钮创建您的第一个项目',
      enterName: '请输入项目名称',
      enterCode: '请输入项目编码',
      enterKey: '请输入项目标识',
      selectType: '请选择项目类型',
      selectStatus: '请选择状态',
      enterDescription: '请输入项目描述',
      enterUrl: '请输入项目地址',
      enterRepository: '请输入代码仓库地址',
      enterOwner: '请输入项目经理',
      enterLead: '请输入技术负责人',
      enterIcon: '请输入图标',
      searchCode: '搜索项目编码',
      searchName: '搜索项目名称',
      searchKey: '搜索项目标识',
      searchAll: '搜索所有字段',
      nameRequired: '请输入项目名称',
      codeRequired: '请输入项目编码',
      typeRequired: '请选择项目类型',
      statusRequired: '请选择状态'
    },
    // User
    user: {
      title: '用户管理',
      username: '用户名',
      realName: '真实姓名',
      email: '邮箱',
      phone: '手机号',
      password: '密码',
      status: '状态',
      isAdmin: '管理员',
      oauthProvider: 'OAuth提供商',
      createdAt: '创建时间',
      lastLoginAt: '最后登录',
      statusActive: '激活',
      statusDisabled: '禁用',
      resetPassword: '重置密码',
      resetPasswordConfirm: '确定要重置该用户的密码吗？重置后密码为：123456',
      resetPasswordSuccess: '密码已重置为：123456',
      deleteConfirm: '确定要删除该用户吗？',
      createSuccess: '用户创建成功',
      updateSuccess: '用户更新成功',
      deleteSuccess: '用户删除成功'
    },
    // Role
    role: {
      title: '角色管理',
      description: '管理系统角色和权限分配',
      createRole: '新建角色',
      editRole: '编辑角色',
      name: '角色名称',
      code: '角色代码',
      description: '角色描述',
      level: '权限级别',
      users: '用户数',
      menus: '菜单数',
      status: '状态',
      assignMenus: '分配菜单',
      assignUsers: '分配用户',
      searchPlaceholder: '搜索角色名称、代码...',
      namePlaceholder: '请输入角色名称',
      codePlaceholder: '请输入角色代码（英文、数字、下划线、横线）',
      selectCode: '选择角色代码',
      codeSuperAdmin: 'super_admin - 超级管理员',
      codeAdmin: 'admin - 管理员',
      codeTester: 'tester - 测试人员',
      codeDeveloper: 'developer - 开发人员',
      codeViewer: 'viewer - 访客',
      codeManager: 'manager - 项目经理',
      codeProductOwner: 'product_owner - 产品负责人',
      descriptionPlaceholder: '请输入角色描述',
      levelPlaceholder: '请输入权限级别（0-999）',
      nameRequired: '请输入角色名称',
      codeRequired: '请输入角色代码',
      codePattern: '角色代码只能包含字母、数字、下划线和横线',
      loadFailed: '加载角色失败',
      createSuccess: '角色创建成功',
      updateSuccess: '角色更新成功',
      deleteSuccess: '角色删除成功',
      saveFailed: '保存角色失败',
      deleteConfirm: '确定要删除角色 "{name}" 吗？',
      deleteFailed: '删除角色失败',
      statusUpdateSuccess: '状态更新成功',
      statusUpdateFailed: '状态更新失败',
      loadMenusFailed: '加载角色菜单失败',
      assignMenusSuccess: '菜单分配成功',
      assignMenusFailed: '菜单分配失败',
      searchUsers: '搜索用户',
      allUsers: '所有用户',
      assignedUsers: '已分配用户',
      noUsersAssigned: '未分配用户',
      loadUsersFailed: '加载用户失败',
      assignUsersSuccess: '用户分配成功',
      assignUsersFailed: '用户分配失败'
    }
  },
  'en-US': {
    // Common
    common: {
      confirm: 'Confirm',
      cancel: 'Cancel',
      save: 'Save',
      delete: 'Delete',
      edit: 'Edit',
      create: 'Create',
      search: 'Search',
      reset: 'Reset',
      submit: 'Submit',
      back: 'Back',
      logout: 'Logout',
      loading: 'Loading...',
      noData: 'No data',
      operation: 'Operation',
      status: 'Status',
      name: 'Name',
      description: 'Description',
      createdAt: 'Created At',
      updatedAt: 'Updated At',
      advanced: 'Advanced Search',
      close: 'Close',
      required: 'is required',
      none: 'None',
      error: 'Operation failed',
      keyword: 'Keyword'
    },
    // Menu
    menu: {
      home: 'Dashboard',
      testCases: 'Test Cases',
      testPlans: 'Test Plans',
      environments: 'Environments',
      defects: 'Defects',
      mcpSkills: 'MCP & Skills',
      reports: 'Reports',
      settings: 'Settings',
      // Menu Management
      title: 'Menu Management',
      description: 'Manage system menus and permissions',
      addMenu: 'Add Menu',
      editMenu: 'Edit Menu',
      addChildMenu: 'Add Child Menu',
      addChild: 'Add Child',
      menuName: 'Menu Name',
      name: 'Name',
      code: 'Code',
      path: 'Path',
      icon: 'Icon',
      type: 'Type',
      button: 'Button',
      link: 'Link',
      menu: 'Menu',
      sortOrder: 'Sort Order',
      status: 'Status',
      visible: 'Visible',
      hidden: 'Hidden',
      parentMenu: 'Parent Menu',
      selectParent: 'Select Parent',
      namePlaceholder: 'Enter menu name',
      titlePlaceholder: 'Enter menu title',
      codePlaceholder: 'Enter menu code',
      pathPlaceholder: 'Enter route path',
      permissionPlaceholder: 'Enter permission identifier',
      selectType: 'Select type',
      selectIcon: 'Select icon',
      nameRequired: 'Please enter menu name',
      codeRequired: 'Please enter menu code',
      typeRequired: 'Please select type',
      searchPlaceholder: 'Search menu name, code...',
      expandAll: 'Expand All',
      collapseAll: 'Collapse All',
      loadFailed: 'Failed to load menus',
      loadRolesFailed: 'Failed to load roles',
      loadRoleMenusFailed: 'Failed to load role menus',
      createSuccess: 'Created successfully',
      updateSuccess: 'Updated successfully',
      deleteSuccess: 'Deleted successfully',
      saveFailed: 'Failed to save',
      deleteConfirm: 'Are you sure to delete this menu?',
      deleteFailed: 'Failed to delete',
      // Role Menu Assignment
      assignMenus: 'Assign Menu Permissions',
      selectRole: 'Select Role',
      menus: 'Menus',
      selectRoleFirst: 'Please select a role first',
      assignSuccess: 'Assigned successfully',
      assignFailed: 'Failed to assign',
      // Type Options
      typeMenu: 'Menu',
      typeButton: 'Button',
      typeLink: 'Link'
    },
    // Dashboard
    dashboard: {
      title: 'Test Management Platform',
      welcome: 'Welcome to Test Management Platform',
      statistics: 'Statistics',
      totalCases: 'Total Cases',
      totalPlans: 'Total Plans',
      totalDefects: 'Total Defects',
      executedToday: 'Executed Today',
      recentCases: 'Recent Cases',
      recentPlans: 'Recent Plans'
    },
    // Test Case
    testCase: {
      title: 'Cases',
      newFolder: 'New Folder',
      newCase: 'New Case',
      folderName: 'Folder Name',
      caseNo: 'Case No.',
      caseName: 'Case Name',
      priority: 'Priority',
      type: 'Type',
      automation: 'Automation',
      status: 'Status',
      preconditions: 'Preconditions',
      testSteps: 'Test Steps',
      stepDesc: 'Step Description',
      expected: 'Expected Result',
      postconditions: 'Postconditions',
      remarks: 'Remarks',
      addStep: 'Add Step',
      removeStep: 'Remove',
      deleteConfirm: 'Are you sure to delete this test case?',
      batchDelete: 'Batch Delete',
      batchMove: 'Batch Move',
      createSuccess: 'Created successfully',
      updateSuccess: 'Updated successfully',
      deleteSuccess: 'Deleted successfully',
      moveSuccess: 'Moved successfully',
      critical: 'Critical',
      high: 'High',
      medium: 'Medium',
      low: 'Low',
      functional: 'Functional',
      performance: 'Performance',
      security: 'Security',
      ui: 'UI',
      api: 'API',
      manual: 'Manual',
      automated: 'Automated',
      semiAutomated: 'Semi-automated',
      draft: 'Draft',
      active: 'Active',
      archived: 'Archived',
      // New
      suite: 'Suite',
      addSubSuite: 'Add Sub-suite',
      editSuite: 'Edit Suite',
      editCase: 'Edit Case',
      deleteSuiteConfirm: 'Are you sure to delete this suite? Test cases will become unsuites.',
      searchPlaceholder: 'Search cases...',
      selectSuite: 'Select suite',
      selectPriority: 'Select priority',
      selectStatus: 'Select status',
      selectType: 'Select type',
      enterSuiteName: 'Enter suite name',
      selectParentSuite: 'Select parent suite',
      enterCaseName: 'Enter case name',
      autoGenerated: 'Auto-generated',
      preconditionsPlaceholder: 'Conditions before test execution...',
      postconditionsPlaceholder: 'Cleanup or recovery actions...',
      remarksPlaceholder: 'Additional notes...',
      enterStepDesc: 'Enter step description',
      enterExpected: 'Enter expected result',
      expectedResult: 'Expected Result',
      viewCase: 'View Case',
      executeCase: 'Execute Case',
      executionResult: 'Execution Result',
      passed: 'Passed',
      failed: 'Failed',
      blocked: 'Blocked',
      skipped: 'Skipped',
      actualResult: 'Actual Result',
      executionNotesPlaceholder: 'Additional notes...',
      duration: 'Duration (s)',
      executionDuration: 'Execution duration',
      relatedDefects: 'Related Defects',
      selectDefects: 'Select existing defects',
      createDefect: 'Create Defect',
      environment: 'Environment',
      selectEnvironment: 'Select environment',
      executionSubmitted: 'Execution result submitted successfully',
      submitFailed: 'Submission failed: ',
      selectExecutionStatus: 'Please select execution status',
      submitResult: 'Submit Result',
      keyword: 'Keyword',
      keywordPlaceholder: 'Search name, number, steps, expected results...',
      caseNoPlaceholder: 'e.g., CASE-0001',
      startDate: 'Start date',
      endDate: 'End date',
      targetSuitePrompt: 'Enter target suite ID',
      batchDeleteConfirm: 'Are you sure to delete {count} selected cases?',
      parentSuite: 'Parent Suite'
    },
    // Test Plan
    testPlan: {
      title: 'Plans',
      newPlan: 'New Plan',
      planNo: 'Plan No.',
      planName: 'Plan Name',
      startDate: 'Start Date',
      endDate: 'End Date',
      buildVersion: 'Build Version',
      priority: 'Priority',
      autoEnabled: 'Enable Automation',
      caseManagement: 'Case Management',
      execute: 'Execute',
      deleteConfirm: 'Are you sure to delete this plan?',
      createSuccess: 'Created successfully',
      updateSuccess: 'Updated successfully',
      deleteSuccess: 'Deleted successfully',
      draft: 'Draft',
      active: 'In Progress',
      completed: 'Completed',
      cancelled: 'Cancelled'
    },
    // Test Execution
    testExecution: {
      title: 'Test Execution',
      addCase: 'Add Case',
      batchExecute: 'Batch Execute',
      caseNo: 'No.',
      caseName: 'Case Name',
      priority: 'Priority',
      execStatus: 'Status',
      executor: 'Executor',
      remove: 'Remove',
      removeConfirm: 'Are you sure to remove this case from the plan?',
      batchRemove: 'Batch Remove',
      executeStatus: 'Execution Status',
      actualResult: 'Actual Result',
      notes: 'Notes',
      relatedDefect: 'Related Defect',
      newDefect: 'New Defect',
      notExecuted: 'Not Executed',
      passed: 'Passed',
      failed: 'Failed',
      blocked: 'Blocked',
      skipped: 'Skipped',
      submitSuccess: 'Submitted successfully',
      addCaseSuccess: 'Successfully added',
      removeSuccess: 'Removed successfully',
      selected: 'Selected',
      selectFolder: 'Select Folder'
    },
    // Environment
    environment: {
      title: 'Environment Management',
      newEnv: 'New Environment',
      envName: 'Environment Name',
      envCode: 'Environment Code',
      envType: 'Environment Type',
      baseUrl: 'Base URL',
      resources: 'Resources',
      newResource: 'New Resource',
      resourceName: 'Resource Name',
      resourceType: 'Resource Type',
      host: 'Host',
      port: 'Port',
      username: 'Username',
      password: 'Password',
      system: 'System',
      online: 'Online',
      offline: 'Offline',
      busy: 'Busy',
      error: 'Error',
      normal: 'Normal',
      disabled: 'Disabled',
      resourceCount: 'Resources',
      deleteConfirm: 'Are you sure to delete this environment?',
      deleteResourceConfirm: 'Are you sure to delete this resource?',
      createSuccess: 'Created successfully',
      updateSuccess: 'Updated successfully',
      deleteSuccess: 'Deleted successfully',
      dev: 'Development',
      testing: 'Testing',
      staging: 'Staging',
      production: 'Production',
      server: 'Server',
      database: 'Database',
      cache: 'Cache',
      messageQueue: 'Message Queue'
    },
    // Defect
    defect: {
      title: 'Defects',
      modules: 'Modules',
      newModule: 'New Module',
      newSubModule: 'New Sub-module',
      editModule: 'Edit Module',
      deleteModule: 'Delete Module',
      moduleName: 'Module Name',
      parentModule: 'Parent Module',
      selectParentModule: 'Select parent module',
      enterModuleName: 'Enter module name',
      allDefects: 'All Defects',
      currentModule: 'Current Module',
      newDefect: 'New Defect',
      editDefect: 'Edit Defect',
      defectNo: 'Defect No',
      title: 'Title',
      titlePlaceholder: 'Enter defect title',
      severity: 'Severity',
      priority: 'Priority',
      status: 'Status',
      assignedTo: 'Assigned To',
      reporter: 'Reporter',
      reportedDate: 'Reported',
      type: 'Type',
      description: 'Description',
      descriptionPlaceholder: 'Describe the defect...',
      stepsToReproduce: 'Steps to Reproduce',
      stepsPlaceholder: 'Steps to reproduce the defect...',
      expectedBehavior: 'Expected Behavior',
      expectedPlaceholder: 'What should happen...',
      actualBehavior: 'Actual Behavior',
      actualPlaceholder: 'What actually happens...',
      environment: 'Environment',
      environmentPlaceholder: 'e.g., Production',
      browser: 'Browser',
      browserPlaceholder: 'e.g., Chrome 120',
      os: 'OS',
      osPlaceholder: 'e.g., Windows 11',
      deleteConfirm: 'Are you sure to delete this defect?',
      deleteModuleConfirm: 'Are you sure to delete this module?',
      createSuccess: 'Created successfully',
      updateSuccess: 'Updated successfully',
      deleteSuccess: 'Deleted successfully',
      deletedSuccess: 'Deleted successfully',
      updatedSuccess: 'Updated successfully',
      createdSuccess: 'Created successfully',
      searchDefects: 'Search defects...',
      advancedSearch: 'Advanced Search',
      defectNoPlaceholder: 'e.g., DEF-0001',
      searchTitle: 'Search title',
      keywordPlaceholder: 'Search all fields...',
      keyword: 'Keyword',
      selectSeverity: 'Select severity',
      selectPriority: 'Select priority',
      selectStatus: 'Select status',
      selectType: 'Select type',
      selectMember: 'Select member',
      enterAssigneeName: 'Enter assignee name',
      startDate: 'Start date',
      endDate: 'End date',
      startPlaceholder: 'Start date',
      endPlaceholder: 'End date',
      created: 'Created',
      updated: 'Updated',
      actions: 'Actions',
      view: 'View',
      addSubModule: 'Add Sub-module',
      // Severity
      critical: 'Critical',
      high: 'High',
      medium: 'Medium',
      low: 'Low',
      trivial: 'Trivial',
      // Priority
      urgent: 'Urgent',
      high: 'High',
      medium: 'Medium',
      low: 'Low',
      // Status
      new: 'New',
      assigned: 'Assigned',
      inProgress: 'In Progress',
      resolved: 'Resolved',
      closed: 'Closed',
      // Type
      bug: 'Bug',
      feature: 'Feature',
      improvement: 'Improvement',
      task: 'Task',
      // Module
      module: 'Module',
      addSubModule: 'Add Sub-module'
    },
    // Report
    report: {
      title: 'Test Reports',
      reportName: 'Report Name',
      reportType: 'Report Type',
      testPlan: 'Test Plan',
      executeTime: 'Execution Time',
      totalCases: 'Total Cases',
      passedCases: 'Passed Cases',
      failedCases: 'Failed Cases',
      passRate: 'Pass Rate',
      summary: 'Summary',
      detail: 'Detail'
    },
    // Settings
    settings: {
      title: 'Settings',
      basic: 'Basic Settings',
      workflow: 'Defect Workflow',
      notification: 'Notification Settings',
      about: 'About',
      systemName: 'System Name',
      defaultProject: 'Default Project',
      language: 'Language',
      timezone: 'Timezone',
      save: 'Save',
      saveSuccess: 'Settings saved successfully',
      notificationSaveSuccess: 'Notification settings saved',
      testEmailSent: 'Test email sent',
      newStatus: 'New Status',
      statusName: 'Status Name',
      statusCode: 'Status Code',
      displayColor: 'Display Color',
      sortOrder: 'Sort Order',
      setDefault: 'Set as Default',
      yes: 'Yes',
      no: 'No',
      deleteConfirm: 'Are you sure to delete this status?',
      addSuccess: 'Added successfully',
      updateSuccess: 'Updated successfully',
      emailNotification: 'Email Notification',
      smtpServer: 'SMTP Server',
      smtpPort: 'SMTP Port',
      fromEmail: 'From Email',
      sendTestEmail: 'Send Test Email',
      sysInfo: 'System Information',
      sysVersion: 'System Version',
      frontendStack: 'Frontend Stack',
      backendStack: 'Backend Stack',
      license: 'License',
      platformName: 'Test Management Platform',
      version: 'v1.0.0',
      frontendTech: 'Vue 3 + Element Plus + Vite',
      backendTech: 'Flask + Flask-RESTX + SQLAlchemy',
      licenseType: 'MIT License'
    },
    // Profile
    profile: {
      title: 'Profile',
      basicInfo: 'Basic Info',
      security: 'Security',
      activity: 'Activity',
      preferences: 'Preferences',
      enterRealName: 'Enter your real name',
      enterEmail: 'Enter your email address',
      enterPhone: 'Enter your phone number',
      enterCurrentPassword: 'Enter your current password',
      enterNewPassword: 'Enter your new password',
      confirmNewPassword: 'Confirm your new password',
      updatePassword: 'Update Password',
      timezone: 'Timezone',
      language: 'Language',
      theme: 'Theme',
      notifications: 'Email Notifications',
      notificationsDesc: 'Receive email notifications',
      autoSave: 'Auto Save',
      autoSaveDesc: 'Auto save drafts when editing',
      itemsPerPage: 'Items per page',
      currentPassword: 'Current Password',
      newPassword: 'New Password',
      confirmPassword: 'Confirm Password',
      passwordTip: 'Password Requirements',
      requirement1: 'At least 6 characters long',
      requirement2: 'Contains letters and numbers',
      requirement3: 'Contains special characters',
      passwordMismatch: 'Passwords do not match',
      passwordTooShort: 'Password must be at least 6 characters long',
      invalidEmail: 'Please enter a valid email address',
      invalidPhone: 'Please enter a valid phone number',
      loadFailed: 'Failed to load',
      updateSuccess: 'Updated successfully',
      updateFailed: 'Failed to update',
      passwordChangeSuccess: 'Password changed successfully',
      passwordChangeFailed: 'Failed to change password',
      preferencesSaved: 'Preferences saved',
      noActivity: 'No activity yet',
      uploadImageOnly: 'Only image files are allowed!',
      uploadImageSize: 'Image size cannot exceed 2MB!',
      avatarUploadSuccess: 'Avatar uploaded successfully',
      avatarUploadFailed: 'Failed to upload avatar'
    },
    // Theme
    theme: {
      light: 'Light',
      dark: 'Dark',
      blue: 'Blue',
      green: 'Green',
      purple: 'Purple'
    },
    // User
    user: {
      title: 'User Management',
      username: 'Username',
      realName: 'Real Name',
      email: 'Email',
      phone: 'Phone',
      isAdmin: 'Administrator',
      admin: 'Administrator',
      member: 'Member',
      status: 'Status',
      active: 'Active',
      disabled: 'Disabled'
    },
    // Tenant
    tenant: {
      title: 'Tenant Management',
      create: 'New Tenant',
      edit: 'Edit Tenant',
      name: 'Tenant Name',
      code: 'Tenant Code',
      description: 'Description',
      status: 'Status',
      statusActive: 'Active',
      statusSuspended: 'Suspended',
      statusExpired: 'Expired',
      users: 'Users',
      projects: 'Projects',
      maxUsers: 'Max Users',
      maxProjects: 'Max Projects',
      maxStorage: 'Max Storage (GB)',
      expireDate: 'Expire Date',
      switch: 'Switch',
      switchSuccess: 'Switched successfully',
      switchFailed: 'Switch failed',
      deleteConfirm: 'Are you sure to delete this tenant?',
      deleteSuccess: 'Deleted successfully',
      createSuccess: 'Created successfully',
      updateSuccess: 'Updated successfully',
      searchPlaceholder: 'Search tenants',
      currentTenant: 'Current Tenant',
      switchTenant: 'Switch Tenant'
    },
    // User
    user: {
      title: 'User Management',
      username: 'Username',
      realName: 'Real Name',
      email: 'Email',
      phone: 'Phone',
      password: 'Password',
      status: 'Status',
      isAdmin: 'Admin',
      oauthProvider: 'OAuth Provider',
      createdAt: 'Created At',
      lastLoginAt: 'Last Login',
      statusActive: 'Active',
      statusDisabled: 'Disabled',
      resetPassword: 'Reset Password',
      resetPasswordConfirm: 'Are you sure to reset this user password? It will be reset to: 123456',
      resetPasswordSuccess: 'Password has been reset to: 123456',
      deleteConfirm: 'Are you sure to delete this user?',
      createSuccess: 'User created successfully',
      updateSuccess: 'User updated successfully',
      deleteSuccess: 'User deleted successfully'
    },
    // Role
    role: {
      title: 'Role Management',
      description: 'Manage system roles and permission assignments',
      createRole: 'New Role',
      editRole: 'Edit Role',
      name: 'Role Name',
      code: 'Role Code',
      description: 'Description',
      level: 'Permission Level',
      users: 'Users',
      menus: 'Menus',
      status: 'Status',
      assignMenus: 'Assign Menus',
      assignUsers: 'Assign Users',
      searchPlaceholder: 'Search role name, code...',
      namePlaceholder: 'Enter role name',
      codePlaceholder: 'Enter role code (letters, numbers, underscores, hyphens)',
      selectCode: 'Select role code',
      codeSuperAdmin: 'super_admin - Super Admin',
      codeAdmin: 'admin - Administrator',
      codeTester: 'tester - Tester',
      codeDeveloper: 'developer - Developer',
      codeViewer: 'viewer - Viewer',
      codeManager: 'manager - Project Manager',
      codeProductOwner: 'product_owner - Product Owner',
      descriptionPlaceholder: 'Enter role description',
      levelPlaceholder: 'Enter permission level (0-999)',
      nameRequired: 'Please enter role name',
      codeRequired: 'Please enter role code',
      codePattern: 'Role code can only contain letters, numbers, underscores, and hyphens',
      loadFailed: 'Failed to load roles',
      createSuccess: 'Role created successfully',
      updateSuccess: 'Role updated successfully',
      deleteSuccess: 'Role deleted successfully',
      saveFailed: 'Failed to save role',
      deleteConfirm: 'Are you sure to delete role "{name}"?',
      deleteFailed: 'Failed to delete role',
      statusUpdateSuccess: 'Status updated successfully',
      statusUpdateFailed: 'Failed to update status',
      loadMenusFailed: 'Failed to load role menus',
      assignMenusSuccess: 'Menus assigned successfully',
      assignMenusFailed: 'Failed to assign menus',
      searchUsers: 'Search users',
      allUsers: 'All Users',
      assignedUsers: 'Assigned Users',
      noUsersAssigned: 'No users assigned',
      loadUsersFailed: 'Failed to load users',
      assignUsersSuccess: 'Users assigned successfully',
      assignUsersFailed: 'Failed to assign users'
    },
    // Project
    project: {
      title: 'Project Management',
      name: 'Project Name',
      code: 'Project Code',
      key: 'Project Key',
      description: 'Description',
      projectType: 'Project Type',
      url: 'Project URL',
      repository: 'Repository',
      status: 'Status',
      owner: 'Owner',
      lead: 'Lead',
      color: 'Color',
      icon: 'Icon',
      sort_order: 'Sort Order',
      testSuiteCount: 'Test Suites',
      testCaseCount: 'Test Cases',
      testPlanCount: 'Test Plans',
      defectCount: 'Defects',
      statusActive: 'Active',
      statusArchived: 'Archived',
      statusCompleted: 'Completed',
      typeWeb: 'Web Application',
      typeMobile: 'Mobile Application',
      typeApi: 'API',
      typeDesktop: 'Desktop Application',
      deleteConfirm: 'Are you sure to delete this project?',
      createSuccess: 'Project created successfully',
      updateSuccess: 'Project updated successfully',
      deleteSuccess: 'Project deleted successfully',
      switchSuccess: 'Project switched successfully',
      statistics: 'Statistics',
      recentExecutions: 'Recent Executions',
      // New
      create: 'New Project',
      edit: 'Edit Project',
      searchPlaceholder: 'Search project name...',
      noProjects: 'No projects yet',
      noProjectsDesc: 'Click the button below to create your first project',
      enterName: 'Enter project name',
      enterCode: 'Enter project code',
      enterKey: 'Enter project key',
      selectType: 'Select project type',
      selectStatus: 'Select status',
      enterDescription: 'Enter project description',
      enterUrl: 'Enter project URL',
      enterRepository: 'Enter repository URL',
      enterOwner: 'Enter project owner',
      enterLead: 'Enter tech lead',
      enterIcon: 'Enter icon',
      searchCode: 'Search project code',
      searchName: 'Search project name',
      searchKey: 'Search project key',
      searchAll: 'Search all fields',
      nameRequired: 'Please enter project name',
      codeRequired: 'Please enter project code',
      typeRequired: 'Please select project type',
      statusRequired: 'Please select status'
    }
  }
}

// 获取翻译的 composable
export function useI18n() {
  const appStore = useAppStore()

  const locale = computed(() => appStore.language || 'zh-CN')

  // 翻译函数 t('key') 或 t('module.key')
  function t(key) {
    const keys = key.split('.')
    let result = messages[locale.value]

    for (const k of keys) {
      if (result && result[k] !== undefined) {
        result = result[k]
      } else {
        console.warn(`Translation key not found: ${key}`)
        return key
      }
    }

    return result
  }

  return {
    t,
    locale
  }
}

export default messages
